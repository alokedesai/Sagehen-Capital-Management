<%= render "admin/layouts/header" %>
<div class="container mtb">
  <% flash.each do |name, msg| %>
      <%= content_tag :div, msg, class: "alert alert-#{name}" %>
  <% end %>
  <h1>Current Portfolio</h1>
  <%= link_to "Add stock", new_admin_stock_path, :class=> "btn btn-theme" %>
  <table class="table">
    <thead>
      <tr>
        <th>
          Ticker
        </th>
        <th>
          Share Count
        </th>
        <th>
          Purchase Date
        </th>
        <th>
          Purchase Price
        </th>
        <th>
          Actions
        </th>
      </tr>
    </thead>
    <tbody>
      <% @stocks.each do |stock| %>
        <tr>
          <td>
            <%= link_to stock.ticker, admin_stock_path(stock), {:style=>"font-weight: bold"} %>

          </td>
          <td>
            <% if stock.share_count %>
              <%= stock.share_count %>
            <% else %>
              --
            <% end %>
          </td>
          <td>
            <% if stock.purchase_date %>
              <%= stock.purchase_date %>
            <% else %>
              --
            <% end %>
          </td>
          <td>
            <% if stock.purchase_price %>
              $<%= stock.purchase_price %>
            <% else %>
              --
            <% end %>
          </td>
          <td>
            <%= link_to "Update", edit_admin_stock_path(stock), :class=> "btn btn-default" %>
            <%= link_to "Delete", admin_stock_path(stock), :method=> :delete, :confirm=> "Are you sure you want to delete this stock?", :class=> "btn btn-danger" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

</div>
